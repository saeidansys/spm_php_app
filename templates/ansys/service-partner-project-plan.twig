<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ansys - Service Partner Portal</title>

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/ansys_site.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/DataTables/datatables.min.css"/>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="/DataTables/datatables.min.js"></script>

    <style>
        .dataTables_filter {
            float: left !important;
        }
    </style>

</head>
<body style="background-color: #000000;">

<div class="container-fluid mt-5 mb-5 p-3 rounded rounded-3" style="background-color: #ffffff; max-width: 90%;">

    <div class="row">
        <img src="/img/R.png" />
    </div>

    <div class="row">
        <h1 class="w-100">Service Partner Dashboard - {{ spname }}</h1>
    </div>

    <div class="row">
        <h2 class="w-100">Project Plan for: {{ projectname }}</h2>
    </div>

    <table class="table table-striped w-100" id="projects">
        <thead>
        <tr>
            <th>Name</th>
            <th>Consumed Update Date</th>
            <th>SP PO NÂ°</th>
            <th>Project ID</th>
            <th>Measurement Reporting Unit</th>
            <th>Planned</th>
            <th>Baseline</th>
            <th>Consumed</th>
            <th>SP Rate</th>
            <th>SP Currency</th>
            <th>Project Start Date</th>
            <th>Project End Date</th>
            <th>SP Resource Type</th>
            <th>Project Task</th>
            <th>Project Activity</th>
            <th>Executive Summary</th>
            <th>SPName</th>
            <th>Ansys Customer Name</th>
            <th>Project Name</th>
            <th>SP Unique ID</th>
        </tr>
        </thead>
        <tbody>
        {% for pid, ppitem in ppdata %}
            <tr>
                <td>{{ ppitem.item_name }}</td>
                <td>{{ ppitem.consumed_update_date }}</td>
                <td>{{ ppitem.sp_pon }}</td>
                <td>{{ ppitem.project_id }}</td>
                <td>{{ ppitem.project_type }}</td>
                <td>{{ ppitem.original_baseline }}</td>
                <td>{{ ppitem.actual_baseline }}</td>
                <td>{{ ppitem.actual_consumed }}</td>
                <td>{{ ppitem.sp_rate }}</td>
                <td>{{ ppitem.sp_currency }}</td>
                <td>{{ ppitem.project_start }}</td>
                <td>{{ ppitem.project_end }}</td>
                <td>{{ ppitem.sp_res_type }}</td>
                <td>{{ ppitem.project_task }}</td>
                <td>{{ ppitem.project_activity }}</td>
                <td>{{ ppitem.executive_summary }}</td>
                <td>{{ ppitem.sp_name }}</td>
                <td>{{ ppitem.ansys_customer_name }}</td>
                <td>{{ ppitem.project_name }}</td>
                <td>{{ ppitem.sp_unique_id }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

</div>

<div id="loading-overlay">
    <div id="loader-container" class="d-flex justify-content-center">
        <div class="spinner-border text-light" style="width: 3rem; height: 3rem;" role="status"></div>
    </div>
</div>

<script>

    function showLoadingScreen(eventsender)
    {
        document.getElementById('loading-overlay').style.display = "block";
    }

    window.onunload = function() {
        document.getElementById('loading-overlay').style.display = "none";
    }

    $(document).ready(function() {

        $('#projects').DataTable( {
            "scrollX": true,
            order: [],
            paging: true,
            dom: 'Bfrtip',
            buttons: [
                'csv', 'excel',
            ]
        } );

    } );

</script>

</body>
</html>
